# 🔒 安全服务模块

## 📘 概述

安全服务模块为 relaScope-insight 应用提供全面的安全功能，包括数据加密、敏感信息保护、安全存储和权限控制。该模块是确保应用数据安全和用户隐私的核心组件，为其他服务提供安全相关的功能支持。

## 🏗️ 目录结构

```
/security/
├── EncryptionService.ts  # 加密服务实现
└── security.service.ts   # 安全服务主实现
```

## 🚀 核心功能

- 🔐 敏感数据加密与解密
- 🗝️ 密钥管理与保护
- 🛡️ API 凭证安全存储
- 👮 权限控制与验证
- 🔒 安全存储解决方案
- 🧩 密码哈希与校验

## 🔍 主要组件

### 安全服务 (security.service.ts)
- 提供综合安全功能接口
- 管理应用安全策略
- 实现权限验证逻辑
- 集成各种安全机制
- 处理安全相关的错误与异常

### 加密服务 (EncryptionService.ts)
- 实现数据加密与解密功能
- 管理加密密钥
- 提供安全的随机数生成
- 支持不同级别的加密算法
- 确保加密操作的性能和安全性

## 💡 安全策略

安全服务采用以下安全策略：
- **深度防御**: 多层次安全措施
- **最小权限**: 仅提供必要的访问权限
- **数据分类**: 根据敏感度分类处理数据
- **密钥轮换**: 定期更新加密密钥
- **安全默认值**: 安全优先的默认配置

## 🛠️ 主要 API

- `encrypt(data, level?)` - 加密数据
- `decrypt(encryptedData)` - 解密数据
- `secureStore(key, value)` - 安全存储键值对
- `secureRetrieve(key)` - 安全检索存储的值
- `hashPassword(password)` - 哈希密码
- `verifyPassword(password, hash)` - 验证密码哈希
- `generateSecureToken()` - 生成安全令牌
- `checkPermission(action, resource)` - 检查权限

## 🔐 数据安全

安全服务确保以下类型数据的安全：
- **API 密钥**: LLM 提供商 API 密钥
- **用户凭证**: 登录凭证和会话令牌
- **敏感配置**: 包含敏感信息的配置
- **个人数据**: 与用户相关的敏感信息

## 🔌 依赖关系

- 被配置服务使用进行敏感设置的加密
- 被 LLM 服务用于保护 API 密钥
- 可能与数据库服务集成用于数据加密
- 通过 IPC 机制向渲染进程提供有限的安全功能

## ⚠️ 安全考量

- 密钥派生使用安全算法，如 PBKDF2
- 加密采用行业标准算法，如 AES-256
- 使用安全的随机数生成器
- 避免将密钥或敏感数据暴露给渲染进程
- 实现安全日志记录，避免记录敏感信息 