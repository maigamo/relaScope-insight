# 🛠️ 主进程服务模块

## 📘 概述

主进程服务模块提供了 relaScope-insight 应用的核心功能实现，包括配置管理、数据库操作、LLM 集成和安全功能。这些服务在主进程中运行，通过 IPC 机制向渲染进程提供功能支持，是应用后端核心功能的具体实现层。

## 🏗️ 目录结构

```
/services/
├── config/     # 配置管理服务
├── database/   # 数据库服务
├── llm/        # LLM 服务集成
└── security/   # 安全服务
```

## 🚀 核心功能

- ⚙️ 应用配置的管理与持久化
- 💾 数据存储与检索
- 🧠 LLM 服务的集成与管理
- 🔒 安全功能与数据保护
- 🔄 状态管理与同步

## 🔍 主要服务

### 配置服务 (config/)
- 管理应用全局配置
- 提供配置读写 API
- 配置持久化与恢复
- 默认配置初始化

### 数据库服务 (database/)
- 数据库连接管理
- CRUD 操作实现
- 数据模型操作
- 查询优化与缓存
- 数据迁移支持

### LLM 服务 (llm/)
- 支持多种 LLM 提供商接入
- API 调用封装
- 参数管理与优化
- 会话上下文管理
- 流式响应处理

### 安全服务 (security/)
- 敏感数据加密存储
- API 密钥管理
- 权限控制
- 安全策略实施

## 💡 设计原则

- **模块化**: 每个服务独立实现，具有明确的职责边界
- **可扩展性**: 设计允许轻松添加新的服务或扩展现有服务
- **鲁棒性**: 所有服务都包含完善的错误处理机制
- **异步处理**: 核心操作采用异步方式，避免阻塞主线程
- **单一职责**: 每个服务专注于解决特定领域的问题

## 🔄 服务生命周期

1. 服务在主进程启动时初始化
2. 通过依赖注入获取所需的其他服务实例
3. 注册到 IPC 处理器，响应渲染进程请求
4. 在应用运行期间维持状态和连接
5. 在应用退出时执行清理操作

## 🔌 依赖关系

- 配置服务可能依赖安全服务进行敏感配置的加密
- LLM 服务依赖配置服务获取 API 凭证和设置
- 数据库服务与应用其他部分交互最为频繁
- 所有服务都可能通过事件机制相互通知状态变化 