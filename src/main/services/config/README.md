# ⚙️ 配置服务模块

## 📘 概述

配置服务模块负责管理 relaScope-insight 应用的全局配置，提供一个中心化的系统来存储、检索、更新和持久化应用设置。该模块确保配置数据的一致性，并为应用其他部分提供简单而可靠的配置访问接口。

## 🏗️ 目录结构

```
/config/
├── config.service.ts   # 配置服务实现
├── default-configs.ts  # 默认配置定义
└── index.ts            # 模块导出
```

## 🚀 核心功能

- 💾 配置数据的持久化与读取
- 🔄 配置更新与监听
- 🏭 默认配置管理
- 🔍 配置验证与类型检查
- 🧩 模块化配置支持

## 🔍 主要组件

### 配置服务 (config.service.ts)
- 提供配置读写的核心功能
- 管理配置文件的加载和保存
- 实现配置变更通知机制
- 处理配置模式迁移
- 错误处理与恢复机制

### 默认配置 (default-configs.ts)
- 定义应用的默认配置值
- 包含各模块的初始设置
- 提供配置架构和类型信息
- 版本控制支持

### 导出模块 (index.ts)
- 导出配置服务的公共接口
- 简化模块的引用方式

## 💡 配置分类

配置服务管理以下类型的设置：
- **应用设置**: 基本应用配置，如语言、主题等
- **用户偏好**: 用户个性化设置
- **功能配置**: 特定功能模块的设置
- **开发选项**: 调试和开发相关配置
- **服务连接**: 外部服务的连接参数

## 🛠️ 主要 API

- `getConfig(key?)` - 获取完整配置或特定配置值
- `setConfig(key, value)` - 设置特定配置项
- `resetConfig(key?)` - 重置配置到默认值
- `watchConfig(key, callback)` - 监听配置变更
- `saveConfig()` - 手动保存配置到磁盘

## 🔄 配置持久化

配置数据存储采用以下策略：
- 使用 JSON 格式存储在用户数据目录
- 应用启动时自动加载
- 配置变更后延迟自动保存
- 支持配置备份和恢复

## 🔌 依赖关系

- 可能依赖安全服务加密敏感配置
- 向其他服务提供配置数据
- 被 IPC 处理器调用以响应渲染进程的配置请求
- 可能使用事件发射器通知配置变更 